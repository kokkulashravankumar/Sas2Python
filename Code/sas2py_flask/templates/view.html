<html>
  <head>
      <script src="./index.js"></script>
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/style.css') }}"></head>
      <body>
       <p>Sas to Python equivalent code:</p>
       <pre>
          {% for line in lines %}
             {{ line }}
          {% endfor %}
       </pre>
      <button type="button" onclick="makeGetRequest()">Execute the code</button>
      <script>
        function makeGetRequest() {
    fetch('/upload.txt')
    .then((response) => {
        if (response.ok) {
            return response.blob();
        } else {
            throw new Error('Error fetching file.');
        }
    })
    .then((data) => {
        let file = new File([data], "file.txt", {type: "text/plain"});
        let reader = new FileReader();
        reader.onload = function() {
            let fileContent = reader.result;
            // do something with file content
            console.log(fileContent);
        }
        reader.readAsText(file);
    })
    .catch((error) => console.error(error));
}

</script>
    </body>

 </html>
 